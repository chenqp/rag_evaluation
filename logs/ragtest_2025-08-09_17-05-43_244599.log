2025-08-09 17:05:43.734 | INFO     | __main__:evaluate_dify_rag:184 - 开始评估Dify知识库召回和RAG系统的答案...
2025-08-09 17:05:43.827 | INFO     | __main__:evaluate_dify_rag:188 - 加载了 3 条测试数据
2025-08-09 17:05:43.827 | INFO     | dify_retrieval:_load_config:60 - 成功加载配置文件: config.toml
2025-08-09 17:05:43.827 | INFO     | dify_retrieval:__init__:45 - DifyRetrieval客户端初始化成功
2025-08-09 17:05:43.827 | INFO     | __main__:create_evaluation_dataset:108 - 开始创建RAGAS评估数据集...
2025-08-09 17:05:43.835 | INFO     | __main__:create_evaluation_dataset:114 - 处理问题 1/3: 二氯二氟甲烷的检出限是多少？
2025-08-09 17:05:43.835 | INFO     | dify_retrieval:retrieve:105 - 开始检索知识库: 4c6c9113-c053-4929-b252-482e634f1ec0
2025-08-09 17:05:55.061 | INFO     | __main__:create_evaluation_dataset:133 - 检索到 1 个上下文片段
2025-08-09 17:05:55.061 | INFO     | __main__:create_evaluation_dataset:134 - RAG系统生成的答案: 二氯二氟甲烷的检出限为 **0.4 µg/kg**。...
2025-08-09 17:05:55.061 | INFO     | __main__:create_evaluation_dataset:114 - 处理问题 2/3: 某实验室测定某目标物含量为 98.5μg/kg，另一目标物为 102μg/kg，根据 HJ605 要求，两者应分别保留几位数字？
2025-08-09 17:05:55.061 | INFO     | dify_retrieval:retrieve:105 - 开始检索知识库: 4c6c9113-c053-4929-b252-482e634f1ec0
2025-08-09 17:06:36.243 | INFO     | __main__:create_evaluation_dataset:133 - 检索到 2 个上下文片段
2025-08-09 17:06:36.243 | INFO     | __main__:create_evaluation_dataset:134 - RAG系统生成的答案: 根据HJ605要求，当测定结果小于100 mg/kg时保留至整数位，大于或等于100 mg/kg时保留三位有效数字。  
- **98.5 μg/kg**（即0.0985 mg/kg）小于100 mg/kg，应保留至整数位，即 **99 μg/kg**（或0.099 mg/kg）。  
- **102 μg/kg**（即0.102 mg/kg）小于100 mg/kg，应保留至整数位，即 **102...
2025-08-09 17:06:36.243 | INFO     | __main__:create_evaluation_dataset:114 - 处理问题 3/3: 土壤样品采集需遵循 “随机” 和 “等量” 原则，简述这两个原则的具体含义及对样品代表性的影响
2025-08-09 17:06:36.243 | INFO     | dify_retrieval:retrieve:105 - 开始检索知识库: 4c6c9113-c053-4929-b252-482e634f1ec0
2025-08-09 17:07:08.479 | INFO     | __main__:create_evaluation_dataset:133 - 检索到 1 个上下文片段
2025-08-09 17:07:08.479 | INFO     | __main__:create_evaluation_dataset:134 - RAG系统生成的答案: 土壤样品采集中的“随机”原则指采样时需避免主观选择，确保总体中每个个体有同等机会被选入样品，以消除人为干扰导致的偏差。例如，不能刻意选择特定区域或特征土壤，而应通过随机方法（如随机数表、网格随机布点）确定采样位置。该原则通过减少选择偏差，使样品与总体保持同质性，从而提高样品的代表性。

“等量”原则指在需要相互比较的样品中，应保证各样品的个体数量或取样量一致。例如，若比较不同地块的土壤污染情况，各...
2025-08-09 17:07:08.479 | INFO     | __main__:evaluate_dify_rag:204 - 使用自定义LLM进行评估: deepseek-chat
2025-08-09 17:07:08.479 | INFO     | __main__:evaluate_dify_rag:205 - API Base URL: https://api.deepseek.com/v1
2025-08-09 17:07:09.470 | INFO     | __main__:evaluate_dify_rag:226 - 开始执行RAGAS评估...
2025-08-09 17:08:50.599 | INFO     | __main__:evaluate_dify_rag:234 - 评估完成，结果如下:
2025-08-09 17:08:50.600 | INFO     | __main__:evaluate_dify_rag:235 - {'llm_context_precision_with_reference': 0.6667, 'context_recall': 0.6667, 'nv_context_relevance': 0.6667, 'faithfulness': 0.5833, 'nv_accuracy': 0.6667}
2025-08-09 17:08:50.619 | INFO     | __main__:evaluate_dify_rag:241 - 评估结果已保存到evaluation_results.xlsx
2025-08-09 17:08:50.619 | INFO     | __main__:<module>:250 - 评估完成
